# プロジェクトアーキテクチャ図

## 🏗️ 全体構造

```
bizlp-website/
├── 📱 画面ファイル (pages/)
│   ├── index.tsx          → / (ホーム)
│   ├── news/
│   │   ├── index.tsx      → /news (一覧)
│   │   └── [id].tsx       → /news/:id (詳細)
│   ├── company.tsx        → /company
│   ├── contact.tsx        → /contact
│   ├── privacy.tsx        → /privacy
│   ├── terms.tsx          → /terms
│   └── _app.tsx           → アプリラッパー
│
├── 🧩 コンポーネント (components/)
│   └── Layout.tsx         → 共通レイアウト
│
├── 🔧 ライブラリ (lib/)
│   └── microcms.ts        → API通信
│
├── 🎨 スタイル (styles/)
│   └── globals.css        → グローバルCSS
│
├── ⚙️ 設定ファイル
│   ├── next.config.js     → Next.js設定
│   ├── tsconfig.json      → TypeScript設定
│   ├── tailwind.config.js → Tailwind設定
│   ├── postcss.config.js  → PostCSS設定
│   ├── package.json       → 依存関係
│   └── .gitignore         → Git除外設定
│
└── 📦 node_modules/       → 外部ライブラリ
```

## 🔄 データフロー

```
┌─────────────┐    ┌──────────────┐    ┌─────────────┐    ┌─────────────┐
│  microCMS   │───▶│ lib/microcms │───▶│ pages/*.tsx │───▶│ components/ │
│   (API)     │    │   (クライアント)  │    │  (ページ)    │    │  (レイアウト) │
└─────────────┘    └──────────────┘    └─────────────┘    └─────────────┘
                                                              │
                                                              ▼
                                                   ┌─────────────┐
                                                   │   ブラウザ    │
                                                   │  (ユーザー)   │
                                                   └─────────────┘
```

## 🎯 ページ別の役割

### ホームページ (index.tsx)
```
┌─────────────────────────────────────┐
│             ヘッダー                 │
├─────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐   │
│  │   ヒーロー    │  │ 最新ニュース  │   │
│  │   セクション   │  │   (5件)     │   │
│  └─────────────┘  └─────────────┘   │
├─────────────────────────────────────┤
│             フッター                 │
└─────────────────────────────────────┘
```

### ニュース一覧 (news/index.tsx)
```
┌─────────────────────────────────────┐
│             ヘッダー                 │
├─────────────────────────────────────┤
│           ニュース一覧               │
│  ┌─────────────────────────────────┐ │
│  │ 記事1: タイトル + 説明 + 日付    │ │
│  │ 記事2: タイトル + 説明 + 日付    │ │
│  │ 記事3: タイトル + 説明 + 日付    │ │
│  │ ...                            │ │
│  └─────────────────────────────────┘ │
│           ページネーション            │
├─────────────────────────────────────┤
│             フッター                 │
└─────────────────────────────────────┘
```

### ニュース詳細 (news/[id].tsx)
```
┌─────────────────────────────────────┐
│             ヘッダー                 │
├─────────────────────────────────────┤
│           記事タイトル               │
│           公開日                     │
├─────────────────────────────────────┤
│                                     │
│           記事本文                   │
│                                     │
├─────────────────────────────────────┤
│           関連記事                   │
├─────────────────────────────────────┤
│             フッター                 │
└─────────────────────────────────────┘
```

## 🧩 コンポーネント構造

### Layout.tsx
```
┌─────────────────────────────────────┐
│             ヘッダー                 │
│  ┌─────────┐  ┌─────────────────┐   │
│  │  ロゴ    │  │   ナビゲーション   │   │
│  └─────────┘  └─────────────────┘   │
├─────────────────────────────────────┤
│                                     │
│            {children}               │
│         (ページコンテンツ)            │
│                                     │
├─────────────────────────────────────┤
│             フッター                 │
│  ┌─────────────┐  ┌─────────────┐   │
│  │ コピーライト  │  │ プライバシー  │   │
│  └─────────────┘  └─────────────┘   │
└─────────────────────────────────────┘
```

## 🔧 API通信フロー

### microcms.ts
```
┌─────────────┐    ┌──────────────┐    ┌─────────────┐
│ 環境変数     │───▶│ クライアント   │───▶│ API関数      │
│ SERVICE_    │    │ 初期化       │    │ getNews()   │
│ DOMAIN      │    │              │    │ fetchNews() │
│ API_KEY     │    │              │    │ getDetail() │
└─────────────┘    └──────────────┘    └─────────────┘
```

## ⚙️ 設定ファイルの関係

```
┌─────────────┐    ┌──────────────┐    ┌─────────────┐
│ package.json│───▶│ next.config  │───▶│ tsconfig    │
│ 依存関係     │    │ Next.js設定   │    │ TypeScript  │
└─────────────┘    └──────────────┘    └─────────────┘
       │                   │                   │
       ▼                   ▼                   ▼
┌─────────────┐    ┌──────────────┐    ┌─────────────┐
│ node_modules│    │ ビルド設定    │    │ 型チェック   │
│ 外部ライブラリ │    │ 画像最適化    │    │ パスエイリアス│
└─────────────┘    └──────────────┘    └─────────────┘
```

## 🎨 スタイリング構造

```
┌─────────────┐    ┌──────────────┐    ┌─────────────┐
│ tailwind    │───▶│ postcss      │───▶│ globals.css │
│ config      │    │ config       │    │ グローバル   │
│ カスタム色   │    │ CSS処理      │    │ スタイル     │
└─────────────┘    └──────────────┘    └─────────────┘
       │                   │                   │
       ▼                   ▼                   ▼
┌─────────────┐    ┌──────────────┐    ┌─────────────┐
│ brand色     │    │ 最適化       │    │ カスタム     │
│ レスポンシブ │    │ ベンダー     │    │ クラス       │
│ タイポグラフィ│    │ プレフィックス│    │ レイアウト   │
└─────────────┘    └──────────────┘    └─────────────┘
```

## 🚀 開発・ビルドフロー

### 開発環境
```
npm run dev
    │
    ▼
┌─────────────┐    ┌──────────────┐    ┌─────────────┐
│ TypeScript  │───▶│ Next.js      │───▶│ ブラウザ     │
│ 型チェック   │    │ 開発サーバー   │    │ localhost   │
└─────────────┘    └──────────────┘    └─────────────┘
```

### 本番環境
```
npm run build
    │
    ▼
┌─────────────┐    ┌──────────────┐    ┌─────────────┐
│ 静的生成    │───▶│ 最適化       │───▶│ 本番サーバー  │
│ SSG/SSR     │    │ 画像圧縮     │    │ デプロイ     │
└─────────────┘    └──────────────┘    └─────────────┘
```

この構造により、保守性が高く、拡張しやすいWebサイトが構築されています。

